{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Chandler\\\\Desktop\\\\checkers\\\\checkers\\\\src\\\\Tile.js\";\nimport React from 'react';\nimport { threadId } from 'worker_threads';\n\nclass Tile extends React.Component {\n  constructor(props) {\n    super(props);\n    this.props = props;\n    this.updateChecker = this.updateChecker;\n    this.flashChecker = this.flashChecker;\n    this.onSelection = this.onSelection;\n    this.updateTile = this.updateTile;\n    this.state = {\n      flashcolor: false\n    };\n  }\n\n  onSelection() {\n    let binaryaction = this.props.calculateMove(this.props.rowid, this.props.colid);\n\n    if (binaryaction) {\n      this.props.destroyactivechecker();\n      clearInterval(this.intervalFlash);\n      this.updateTile();\n    } // alert(this.props.rowid + \" \" + this.props.colid);\n\n  }\n\n  updateChecker() {\n    const canvas = this.refs[this.props.colid];\n    const ctx = canvas.getContext(\"2d\");\n    const originalcolor = ctx.fillStyle;\n    this.intervalFlash = setInterval(() => {\n      this.flashChecker(ctx, originalcolor);\n    }, 100); // alert(this.props.rowid, this.props.colid);\n  }\n\n  updateTile() {\n    const canvas = this.refs[this.props.colid];\n    const ctx = canvas.getContext(\"2d\");\n    ctx.moveTo(0, 0);\n    ctx.lineTo(50, 0);\n    ctx.lineTo(50, 50);\n    ctx.lineTo(0, 50);\n    ctx.lineTo(0, 0);\n    ctx.stroke();\n\n    if (this.props.fill == true) {\n      ctx.fillStyle = \"#000000\";\n      ctx.fillRect(0, 0, 50, 50);\n    } else {\n      ctx.fillStyle = \"#FFFFFF\";\n      ctx.fillRect(0, 0, 50, 50);\n    }\n\n    if (this.props.checkercolor == \"red\") {\n      if (this.props.activechecker[0] == this.props.rowid && this.props.activechecker[1] == this.props.colid) {\n        ctx.beginPath();\n        ctx.arc(25, 25, 20, 0, 2 * Math.PI);\n        ctx.fillStyle = \"#FF0000\";\n        ctx.fill();\n        this.intervalFlash = setInterval(() => {\n          this.flashChecker(ctx, ctx.fillStyle);\n        }, 100);\n      } else {\n        ctx.beginPath();\n        ctx.arc(25, 25, 20, 0, 2 * Math.PI);\n        ctx.fillStyle = \"#FF0000\";\n        ctx.fill();\n      }\n    } else if (this.props.checkercolor == \"green\") {\n      if (this.props.activechecker[0] == this.props.rowid && this.props.activechecker[1] == this.props.colid) {\n        ctx.beginPath();\n        ctx.arc(25, 25, 20, 0, 2 * Math.PI);\n        ctx.fillStyle = \"#008000\";\n        ctx.fill(); // this.setState({flashing: this.flashChecker});\n\n        this.intervalFlash = setInterval(() => {\n          this.flashChecker(ctx, ctx.fillStyle);\n        }, 100);\n      } else {\n        ctx.beginPath();\n        ctx.arc(25, 25, 20, 0, 2 * Math.PI);\n        ctx.fillStyle = \"#008000\";\n        ctx.fill();\n      }\n    }\n  }\n\n  componentDidUpdate(prevprops) {\n    if (this.props.checkercolor !== prevprops.checkercolor) {\n      this.updateTile();\n    }\n\n    if (this.props.activechecker[0] === -1 && this.props.activechecker[0] === -1 && prevprops.activechecker[0] >= 0 && prevprops.activechecker[1] >= 0) {\n      clearInterval(this.intervalFlash);\n      this.updateTile();\n    }\n  }\n\n  componentDidMount() {\n    this.updateTile();\n  }\n\n  flashChecker(ctx, originalcolor) {\n    this.setState({\n      flashcolor: !this.state.flashcolor\n    }, () => {\n      ctx.beginPath();\n      ctx.arc(25, 25, 20, 0, 2 * Math.PI);\n\n      if (this.state.flashcolor) {\n        ctx.fillStyle = \"#0e11cc\";\n      } else {\n        ctx.fillStyle = originalcolor;\n      }\n\n      ctx.fill();\n    });\n  }\n\n  componentWillUnmount() {}\n\n  render() {\n    //I'm pretty sure this decision making being done here violates the abstract state principle, this should be performed in component above\n    if (this.props.checkercolor == \"red\" && this.props.player1 == true) {\n      return React.createElement(\"canvas\", {\n        ref: this.props.colid,\n        width: \"50\",\n        onClick: e => this.props.playermove(this.props.rowid, this.props.colid, this.updateChecker, e),\n        height: \"50\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      });\n    } else if (this.props.checkercolor == \"green\" && this.props.player1 == false) {\n      return React.createElement(\"canvas\", {\n        ref: this.props.colid,\n        width: \"50\",\n        onClick: e => this.props.playermove(this.props.rowid, this.props.colid, this.updateChecker, e),\n        height: \"50\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      });\n    } else {\n      return React.createElement(\"canvas\", {\n        ref: this.props.colid,\n        width: \"50\",\n        onClick: e => {\n          this.onSelection();\n        },\n        height: \"50\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      });\n    }\n  }\n\n}\n\nexport default Tile;","map":{"version":3,"sources":["C:\\Users\\Chandler\\Desktop\\checkers\\checkers\\src\\Tile.js"],"names":["React","threadId","Tile","Component","constructor","props","updateChecker","flashChecker","onSelection","updateTile","state","flashcolor","binaryaction","calculateMove","rowid","colid","destroyactivechecker","clearInterval","intervalFlash","canvas","refs","ctx","getContext","originalcolor","fillStyle","setInterval","moveTo","lineTo","stroke","fill","fillRect","checkercolor","activechecker","beginPath","arc","Math","PI","componentDidUpdate","prevprops","componentDidMount","setState","componentWillUnmount","render","player1","e","playermove"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,gBAAzB;;AAGA,MAAMC,IAAN,SAAmBF,KAAK,CAACG,SAAzB,CAAkC;AAC9BC,EAAAA,WAAW,CAACC,KAAD,EAAO;AAChB,UAAMA,KAAN;AACA,SAAKA,KAAL,GAAaA,KAAb;AACA,SAAKC,aAAL,GAAqB,KAAKA,aAA1B;AACA,SAAKC,YAAL,GAAoB,KAAKA,YAAzB;AACA,SAAKC,WAAL,GAAmB,KAAKA,WAAxB;AACA,SAAKC,UAAL,GAAkB,KAAKA,UAAvB;AACA,SAAKC,KAAL,GAAa;AAACC,MAAAA,UAAU,EAAE;AAAb,KAAb;AACD;;AAEDH,EAAAA,WAAW,GAAE;AACX,QAAII,YAAY,GAAG,KAAKP,KAAL,CAAWQ,aAAX,CAAyB,KAAKR,KAAL,CAAWS,KAApC,EAA2C,KAAKT,KAAL,CAAWU,KAAtD,CAAnB;;AACA,QAAGH,YAAH,EAAgB;AACd,WAAKP,KAAL,CAAWW,oBAAX;AACAC,MAAAA,aAAa,CAAC,KAAKC,aAAN,CAAb;AACA,WAAKT,UAAL;AACD,KANU,CAOX;;AACD;;AAEDH,EAAAA,aAAa,GAAE;AACb,UAAMa,MAAM,GAAG,KAAKC,IAAL,CAAU,KAAKf,KAAL,CAAWU,KAArB,CAAf;AACA,UAAMM,GAAG,GAAGF,MAAM,CAACG,UAAP,CAAkB,IAAlB,CAAZ;AACA,UAAMC,aAAa,GAAGF,GAAG,CAACG,SAA1B;AACA,SAAKN,aAAL,GAAqBO,WAAW,CAAC,MAAI;AAAC,WAAKlB,YAAL,CAAkBc,GAAlB,EAAuBE,aAAvB;AAAsC,KAA5C,EAA8C,GAA9C,CAAhC,CAJa,CAKb;AACD;;AAEDd,EAAAA,UAAU,GAAE;AACR,UAAMU,MAAM,GAAG,KAAKC,IAAL,CAAU,KAAKf,KAAL,CAAWU,KAArB,CAAf;AACA,UAAMM,GAAG,GAAGF,MAAM,CAACG,UAAP,CAAkB,IAAlB,CAAZ;AACAD,IAAAA,GAAG,CAACK,MAAJ,CAAW,CAAX,EAAa,CAAb;AACAL,IAAAA,GAAG,CAACM,MAAJ,CAAW,EAAX,EAAc,CAAd;AACAN,IAAAA,GAAG,CAACM,MAAJ,CAAW,EAAX,EAAc,EAAd;AACAN,IAAAA,GAAG,CAACM,MAAJ,CAAW,CAAX,EAAc,EAAd;AACAN,IAAAA,GAAG,CAACM,MAAJ,CAAW,CAAX,EAAc,CAAd;AACAN,IAAAA,GAAG,CAACO,MAAJ;;AACA,QAAG,KAAKvB,KAAL,CAAWwB,IAAX,IAAmB,IAAtB,EAA2B;AACzBR,MAAAA,GAAG,CAACG,SAAJ,GAAiB,SAAjB;AACAH,MAAAA,GAAG,CAACS,QAAJ,CAAa,CAAb,EAAe,CAAf,EAAiB,EAAjB,EAAoB,EAApB;AACD,KAHD,MAII;AACFT,MAAAA,GAAG,CAACG,SAAJ,GAAiB,SAAjB;AACAH,MAAAA,GAAG,CAACS,QAAJ,CAAa,CAAb,EAAe,CAAf,EAAiB,EAAjB,EAAoB,EAApB;AACD;;AACD,QAAG,KAAKzB,KAAL,CAAW0B,YAAX,IAA2B,KAA9B,EAAoC;AAClC,UAAG,KAAK1B,KAAL,CAAW2B,aAAX,CAAyB,CAAzB,KAA+B,KAAK3B,KAAL,CAAWS,KAA1C,IAAmD,KAAKT,KAAL,CAAW2B,aAAX,CAAyB,CAAzB,KAA+B,KAAK3B,KAAL,CAAWU,KAAhG,EAAsG;AACpGM,QAAAA,GAAG,CAACY,SAAJ;AACAZ,QAAAA,GAAG,CAACa,GAAJ,CAAQ,EAAR,EAAY,EAAZ,EAAgB,EAAhB,EAAoB,CAApB,EAAuB,IAAEC,IAAI,CAACC,EAA9B;AACAf,QAAAA,GAAG,CAACG,SAAJ,GAAgB,SAAhB;AACAH,QAAAA,GAAG,CAACQ,IAAJ;AACA,aAAKX,aAAL,GAAqBO,WAAW,CAAC,MAAI;AAAC,eAAKlB,YAAL,CAAkBc,GAAlB,EAAuBA,GAAG,CAACG,SAA3B;AAAsC,SAA5C,EAA8C,GAA9C,CAAhC;AACD,OAND,MAOI;AACFH,QAAAA,GAAG,CAACY,SAAJ;AACAZ,QAAAA,GAAG,CAACa,GAAJ,CAAQ,EAAR,EAAY,EAAZ,EAAgB,EAAhB,EAAoB,CAApB,EAAuB,IAAEC,IAAI,CAACC,EAA9B;AACAf,QAAAA,GAAG,CAACG,SAAJ,GAAgB,SAAhB;AACAH,QAAAA,GAAG,CAACQ,IAAJ;AACD;AACF,KAdD,MAeK,IAAG,KAAKxB,KAAL,CAAW0B,YAAX,IAA2B,OAA9B,EAAsC;AACzC,UAAG,KAAK1B,KAAL,CAAW2B,aAAX,CAAyB,CAAzB,KAA+B,KAAK3B,KAAL,CAAWS,KAA1C,IAAmD,KAAKT,KAAL,CAAW2B,aAAX,CAAyB,CAAzB,KAA+B,KAAK3B,KAAL,CAAWU,KAAhG,EAAsG;AACpGM,QAAAA,GAAG,CAACY,SAAJ;AACAZ,QAAAA,GAAG,CAACa,GAAJ,CAAQ,EAAR,EAAY,EAAZ,EAAgB,EAAhB,EAAoB,CAApB,EAAuB,IAAEC,IAAI,CAACC,EAA9B;AACAf,QAAAA,GAAG,CAACG,SAAJ,GAAgB,SAAhB;AACAH,QAAAA,GAAG,CAACQ,IAAJ,GAJoG,CAKpG;;AACA,aAAKX,aAAL,GAAqBO,WAAW,CAAC,MAAI;AAAC,eAAKlB,YAAL,CAAkBc,GAAlB,EAAuBA,GAAG,CAACG,SAA3B;AAAsC,SAA5C,EAA8C,GAA9C,CAAhC;AACD,OAPD,MAQI;AACFH,QAAAA,GAAG,CAACY,SAAJ;AACAZ,QAAAA,GAAG,CAACa,GAAJ,CAAQ,EAAR,EAAY,EAAZ,EAAgB,EAAhB,EAAoB,CAApB,EAAuB,IAAEC,IAAI,CAACC,EAA9B;AACAf,QAAAA,GAAG,CAACG,SAAJ,GAAgB,SAAhB;AACAH,QAAAA,GAAG,CAACQ,IAAJ;AACD;AACF;AACJ;;AAEDQ,EAAAA,kBAAkB,CAACC,SAAD,EAAW;AAC3B,QAAG,KAAKjC,KAAL,CAAW0B,YAAX,KAA4BO,SAAS,CAACP,YAAzC,EAAsD;AACpD,WAAKtB,UAAL;AACD;;AACD,QAAG,KAAKJ,KAAL,CAAW2B,aAAX,CAAyB,CAAzB,MAAgC,CAAC,CAAjC,IAAsC,KAAK3B,KAAL,CAAW2B,aAAX,CAAyB,CAAzB,MAAgC,CAAC,CAAvE,IAA4EM,SAAS,CAACN,aAAV,CAAwB,CAAxB,KAA8B,CAA1G,IAA+GM,SAAS,CAACN,aAAV,CAAwB,CAAxB,KAA8B,CAAhJ,EAAkJ;AAChJf,MAAAA,aAAa,CAAC,KAAKC,aAAN,CAAb;AACA,WAAKT,UAAL;AACD;AACF;;AAED8B,EAAAA,iBAAiB,GAAG;AAClB,SAAK9B,UAAL;AACD;;AAEDF,EAAAA,YAAY,CAACc,GAAD,EAAME,aAAN,EAAoB;AAC9B,SAAKiB,QAAL,CAAc;AAAC7B,MAAAA,UAAU,EAAE,CAAE,KAAKD,KAAL,CAAWC;AAA1B,KAAd,EAAsD,MAAI;AAC1DU,MAAAA,GAAG,CAACY,SAAJ;AACAZ,MAAAA,GAAG,CAACa,GAAJ,CAAQ,EAAR,EAAY,EAAZ,EAAgB,EAAhB,EAAoB,CAApB,EAAuB,IAAEC,IAAI,CAACC,EAA9B;;AACA,UAAG,KAAK1B,KAAL,CAAWC,UAAd,EAAyB;AACvBU,QAAAA,GAAG,CAACG,SAAJ,GAAgB,SAAhB;AACD,OAFD,MAGI;AACFH,QAAAA,GAAG,CAACG,SAAJ,GAAgBD,aAAhB;AACD;;AAEDF,MAAAA,GAAG,CAACQ,IAAJ;AACC,KAXD;AAYD;;AAEAY,EAAAA,oBAAoB,GAAG,CACvB;;AACCC,EAAAA,MAAM,GAAG;AAEP;AACA,QAAG,KAAKrC,KAAL,CAAW0B,YAAX,IAA2B,KAA3B,IAAoC,KAAK1B,KAAL,CAAWsC,OAAX,IAAsB,IAA7D,EAAkE;AAC9D,aAAO;AAAQ,QAAA,GAAG,EAAE,KAAKtC,KAAL,CAAWU,KAAxB;AAA+B,QAAA,KAAK,EAAC,IAArC;AAA0C,QAAA,OAAO,EAAG6B,CAAD,IAAO,KAAKvC,KAAL,CAAWwC,UAAX,CAAsB,KAAKxC,KAAL,CAAWS,KAAjC,EAAwC,KAAKT,KAAL,CAAWU,KAAnD,EAA0D,KAAKT,aAA/D,EAA8EsC,CAA9E,CAA1D;AAA4I,QAAA,MAAM,EAAC,IAAnJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACH,KAFD,MAGK,IAAG,KAAKvC,KAAL,CAAW0B,YAAX,IAA2B,OAA3B,IAAsC,KAAK1B,KAAL,CAAWsC,OAAX,IAAsB,KAA/D,EAAqE;AACtE,aAAO;AAAQ,QAAA,GAAG,EAAE,KAAKtC,KAAL,CAAWU,KAAxB;AAA+B,QAAA,KAAK,EAAC,IAArC;AAA0C,QAAA,OAAO,EAAG6B,CAAD,IAAO,KAAKvC,KAAL,CAAWwC,UAAX,CAAsB,KAAKxC,KAAL,CAAWS,KAAjC,EAAwC,KAAKT,KAAL,CAAWU,KAAnD,EAA0D,KAAKT,aAA/D,EAA8EsC,CAA9E,CAA1D;AAA4I,QAAA,MAAM,EAAC,IAAnJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACH,KAFI,MAGD;AACA,aAAO;AAAQ,QAAA,GAAG,EAAE,KAAKvC,KAAL,CAAWU,KAAxB;AAA+B,QAAA,KAAK,EAAC,IAArC;AAA0C,QAAA,OAAO,EAAG6B,CAAD,IAAK;AAAC,eAAKpC,WAAL;AAAoB,SAA7E;AAA+E,QAAA,MAAM,EAAC,IAAtF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACH;AAEH;;AA3H4B;;AA+HhC,eAAeN,IAAf","sourcesContent":["import React from 'react';\r\nimport { threadId } from 'worker_threads';\r\n\r\n\r\nclass Tile extends React.Component{\r\n    constructor(props){\r\n      super(props);\r\n      this.props = props;\r\n      this.updateChecker = this.updateChecker;\r\n      this.flashChecker = this.flashChecker;\r\n      this.onSelection = this.onSelection;\r\n      this.updateTile = this.updateTile;\r\n      this.state = {flashcolor: false};\r\n    }          \r\n\r\n    onSelection(){\r\n      let binaryaction = this.props.calculateMove(this.props.rowid, this.props.colid);\r\n      if(binaryaction){\r\n        this.props.destroyactivechecker();\r\n        clearInterval(this.intervalFlash);\r\n        this.updateTile();\r\n      }\r\n      // alert(this.props.rowid + \" \" + this.props.colid);\r\n    }\r\n\r\n    updateChecker(){\r\n      const canvas = this.refs[this.props.colid];\r\n      const ctx = canvas.getContext(\"2d\");\r\n      const originalcolor = ctx.fillStyle;\r\n      this.intervalFlash = setInterval(()=>{this.flashChecker(ctx, originalcolor)}, 100);\r\n      // alert(this.props.rowid, this.props.colid);\r\n    }\r\n\r\n    updateTile(){\r\n        const canvas = this.refs[this.props.colid]\r\n        const ctx = canvas.getContext(\"2d\");\r\n        ctx.moveTo(0,0);\r\n        ctx.lineTo(50,0);\r\n        ctx.lineTo(50,50);\r\n        ctx.lineTo(0, 50);\r\n        ctx.lineTo(0, 0);\r\n        ctx.stroke();\r\n        if(this.props.fill == true){\r\n          ctx.fillStyle =  \"#000000\";\r\n          ctx.fillRect(0,0,50,50);\r\n        }\r\n        else{\r\n          ctx.fillStyle =  \"#FFFFFF\";\r\n          ctx.fillRect(0,0,50,50);\r\n        }\r\n        if(this.props.checkercolor == \"red\"){\r\n          if(this.props.activechecker[0] == this.props.rowid && this.props.activechecker[1] == this.props.colid){\r\n            ctx.beginPath();\r\n            ctx.arc(25, 25, 20, 0, 2*Math.PI);\r\n            ctx.fillStyle = \"#FF0000\";\r\n            ctx.fill()\r\n            this.intervalFlash = setInterval(()=>{this.flashChecker(ctx, ctx.fillStyle)}, 100);\r\n          }\r\n          else{\r\n            ctx.beginPath();\r\n            ctx.arc(25, 25, 20, 0, 2*Math.PI);\r\n            ctx.fillStyle = \"#FF0000\";\r\n            ctx.fill();\r\n          }\r\n        }\r\n        else if(this.props.checkercolor == \"green\"){\r\n          if(this.props.activechecker[0] == this.props.rowid && this.props.activechecker[1] == this.props.colid){\r\n            ctx.beginPath();\r\n            ctx.arc(25, 25, 20, 0, 2*Math.PI);\r\n            ctx.fillStyle = \"#008000\";\r\n            ctx.fill()\r\n            // this.setState({flashing: this.flashChecker});\r\n            this.intervalFlash = setInterval(()=>{this.flashChecker(ctx, ctx.fillStyle)}, 100)\r\n          }\r\n          else{\r\n            ctx.beginPath();\r\n            ctx.arc(25, 25, 20, 0, 2*Math.PI);\r\n            ctx.fillStyle = \"#008000\";\r\n            ctx.fill()\r\n          }\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevprops){\r\n      if(this.props.checkercolor !== prevprops.checkercolor){\r\n        this.updateTile();\r\n      }\r\n      if(this.props.activechecker[0] === -1 && this.props.activechecker[0] === -1 && prevprops.activechecker[0] >= 0 && prevprops.activechecker[1] >= 0){\r\n        clearInterval(this.intervalFlash);\r\n        this.updateTile();\r\n      }\r\n    }\r\n\r\n    componentDidMount() {\r\n      this.updateTile();\r\n    }\r\n\r\n    flashChecker(ctx, originalcolor){\r\n      this.setState({flashcolor: !(this.state.flashcolor)}, ()=>{\r\n      ctx.beginPath();\r\n      ctx.arc(25, 25, 20, 0, 2*Math.PI);\r\n      if(this.state.flashcolor){\r\n        ctx.fillStyle = \"#0e11cc\";\r\n      }\r\n      else{\r\n        ctx.fillStyle = originalcolor;\r\n      }\r\n      \r\n      ctx.fill()\r\n      });\r\n    }\r\n    \r\n     componentWillUnmount() {\r\n    }             \r\n      render() {\r\n\r\n        //I'm pretty sure this decision making being done here violates the abstract state principle, this should be performed in component above\r\n        if(this.props.checkercolor == \"red\" && this.props.player1 == true){\r\n            return(<canvas ref={this.props.colid} width=\"50\" onClick={(e) => this.props.playermove(this.props.rowid, this.props.colid, this.updateChecker, e)} height=\"50\"></canvas>);\r\n        }\r\n        else if(this.props.checkercolor == \"green\" && this.props.player1 == false){\r\n            return(<canvas ref={this.props.colid} width=\"50\" onClick={(e) => this.props.playermove(this.props.rowid, this.props.colid, this.updateChecker, e)} height=\"50\"></canvas>);\r\n        }\r\n        else{\r\n            return(<canvas ref={this.props.colid} width=\"50\" onClick={(e)=>{this.onSelection();}} height=\"50\"></canvas>);\r\n        }\r\n       \r\n     }\r\n    \r\n  }\r\n\r\n  export default Tile;"]},"metadata":{},"sourceType":"module"}